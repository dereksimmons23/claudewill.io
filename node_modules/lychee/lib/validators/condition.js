// Generated by CoffeeScript 1.3.3
var ConditionValidator;

module.exports = ConditionValidator = (function() {

  ConditionValidator.detectBy = ['if', 'unless'];

  function ConditionValidator(params) {
    this.params = params;
  }

  ConditionValidator.prototype.validate = function(value, valid, model) {
    var condition;
    condition = this.params["if"] ? 'if' : 'unless';
    return this.params[condition].call(model, function(result, message) {
      if (condition === 'if') {
        return valid(!!result, message);
      } else {
        return valid(!result, message);
      }
    });
  };

  return ConditionValidator;

})();
