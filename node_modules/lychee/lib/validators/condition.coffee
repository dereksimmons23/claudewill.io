module.exports = class ConditionValidator
	@detectBy: ['if', 'unless']
	
	constructor: (@params) ->
	
	validate: (value, valid, model) ->
		condition = if @params.if then 'if' else 'unless'
		
		@params[condition].call model, (result, message) ->
			if condition is 'if'
				valid !!result, message
			else
				valid !result, message