// Generated by CoffeeScript 1.3.3
var ConfirmationValidator;

module.exports = ConfirmationValidator = (function() {

  ConfirmationValidator.detectBy = ['confirmation'];

  function ConfirmationValidator(params) {
    this.params = params;
  }

  ConfirmationValidator.prototype.validate = function(value, valid, model) {
    if (!value && !model["" + this.params.key + "_confirmation"]) {
      if (!this.params.allowBlank) {
        valid(false, 'can\'t be blank');
      } else {
        valid(true);
      }
      return;
    }
    return valid(value === model["" + this.params.key + "_confirmation"], 'is not confirmed');
  };

  return ConfirmationValidator;

})();
