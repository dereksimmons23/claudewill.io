<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-991ML96NJ3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-991ML96NJ3');
    </script>
    <title>claudewill*</title>
    <meta name="description" content="Pull up a chair. An AI conversation built on the practical wisdom of Claude William Simmons (1903-1967). Direct answers. No fuss. Just help.">
    <meta property="og:title" content="claudewill">
    <meta property="og:description" content="Pull up a chair. An AI conversation built on the practical wisdom of Claude William Simmons (1903-1967). Direct answers. No fuss. Just help.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://claudewill.io/">
    <meta property="og:image" content="https://claudewill.io/images/og-preview.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="claudewill">
    <meta name="twitter:description" content="Pull up a chair. An AI conversation built on the practical wisdom of Claude William Simmons (1903-1967). Direct answers. No fuss. Just help.">
    <meta name="twitter:image" content="https://claudewill.io/images/og-preview.png">
    <link rel="canonical" href="https://claudewill.io/">
    <link rel="stylesheet" href="/css/shared-nav.css">

    <!-- Schema.org structured data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "WebApplication",
          "@id": "https://claudewill.io/#cw",
          "name": "claudewill",
          "alternateName": "CW's Porch",
          "description": "AI conversation built on the practical wisdom of Claude William Simmons (1903-1967). Direct answers, no fuss, just help.",
          "url": "https://claudewill.io/",
          "applicationCategory": "BusinessApplication",
          "operatingSystem": "Web",
          "creator": {
            "@type": "Person",
            "@id": "https://claudewill.io/derek#person"
          },
          "isPartOf": {
            "@type": "Organization",
            "@id": "https://claudewill.io/#organization"
          }
        },
        {
          "@type": "Organization",
          "@id": "https://claudewill.io/#organization",
          "name": "CW Strategies",
          "legalName": "CW Strategies LLC",
          "alternateName": "The CW Standard",
          "description": "CW Strategies is a Minnesota-based strategic consulting firm founded by Derek Simmons. AI-native methodology backed by 30 years in media. Four-month engagements with full ownership transfer.",
          "url": "https://claudewill.io/",
          "foundingDate": "2024",
          "foundingLocation": {
            "@type": "Place",
            "address": {
              "@type": "PostalAddress",
              "addressRegion": "MN",
              "addressCountry": "US"
            }
          },
          "sameAs": [
            "https://www.linkedin.com/company/cw-stategies/",
            "https://derek4thecws.substack.com"
          ],
          "founder": {
            "@type": "Person",
            "@id": "https://claudewill.io/derek#person"
          }
        },
        {
          "@type": "Person",
          "@id": "https://claudewill.io/derek#person",
          "name": "Derek Simmons",
          "alternateName": "Derek Claude Simmons",
          "jobTitle": "Founder & Principal Consultant",
          "description": "Three decades in media, sports, and technology. Building AI frameworks for human-centered organizations.",
          "url": "https://claudewill.io/derek",
          "sameAs": [
            "https://www.linkedin.com/in/dereksimm/",
            "https://github.com/dereksimmons23"
          ],
          "worksFor": {
            "@type": "Organization",
            "@id": "https://claudewill.io/#organization"
          }
        }
      ]
    }
    </script>

    <!-- BreadcrumbList schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "claudewill",
          "item": "https://claudewill.io/"
        }
      ]
    }
    </script>

    <!-- FAQPage schema for GEO — helps AI models cite CW directly -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "Who was Claude William Simmons?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Claude William Simmons (1903-1967) was an Oklahoma farmer, builder, and patriarch. Born January 6, 1903, he raised his family through the Great Depression and built things that lasted. Fences, relationships, and a way of thinking about problems that his grandson Derek Simmons later encoded into an AI conversation tool at claudewill.io."
          }
        },
        {
          "@type": "Question",
          "name": "What is the CW Standard?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The CW Standard is five principles for AI that serves people: (1) Truth over comfort. Don't soften things that need to be straight. (2) Usefulness over purity. Help with what works, not what's theoretically perfect. (3) Transparency over reputation. Show the work, the costs, the compromises. (4) People over systems. The person in front of you matters more than the process. (5) Agency over ideology. Care what people actually do, not what they're supposed to believe."
          }
        },
        {
          "@type": "Question",
          "name": "What is claudewill?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "claudewill.io is a free AI conversation built by Derek Simmons, modeled on the practical wisdom of his grandfather Claude William Simmons (1903-1967). You show up with a problem. Career decisions, business strategy, personal dilemmas. CW listens, asks questions, and gives you a straight answer or points you to someone who can help. No therapy. No coaching. Just a porch conversation."
          }
        },
        {
          "@type": "Question",
          "name": "Who built claudewill?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Derek Simmons built claudewill.io. Derek spent 30 years in media, sports, and technology, including roles at the Star Tribune and LA Times, both ranked among the best newspapers in the world during his tenure. He founded CW Strategies and built claudewill.io as a way to carry his grandfather's voice forward using AI."
          }
        },
        {
          "@type": "Question",
          "name": "How much does claudewill cost?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "claudewill.io is free to use. The entire site runs on approximately $3-5 per month using Netlify (free tier), Supabase (free tier), and Anthropic's Claude Haiku model for conversations."
          }
        }
      ]
    }
    </script>
    <link rel="icon" type="image/svg+xml" href="favicon-cw-dark.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg: #fafaf8;
            --text: #0a1628;
            --dim: #6b7280;
            --accent: #d4a84b;
            --link: #4a8ec2;
            --border: #e5e7eb;
            --input-bg: #f3f4f6;
            --hover-bg: #f0f1f3;
            --error: #b91c1c;
            --font: 'IBM Plex Mono', 'Courier New', Courier, monospace;
        }

        body {
            font-family: var(--font);
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
            font-size: 16px;
        }

        @media (prefers-reduced-motion: no-preference) {
            html { scroll-behavior: smooth; }
        }

        /* Porch light — thin gold line, expands on focus */
        .porch-light {
            position: fixed;
            top: 0;
            left: 0;
            width: 120px;
            height: 2px;
            background: var(--accent);
            z-index: 9999;
            transition: width 0.6s ease;
        }

        body:has(.input-area:focus-within) .porch-light {
            width: 100%;
        }

        body.vernie-mode .porch-light {
            width: 200px;
            height: 3px;
        }

        body.vernie-mode:has(.input-area:focus-within) .porch-light {
            width: 100%;
        }

        @media (max-width: 700px) {
            .porch-light {
                width: 100%;
            }
        }

        /* ── The Invitation ─────────────────────── */
        .invitation {
            min-height: 100svh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 2rem 1.5rem;
            border-bottom: 1px solid var(--border);
        }

        /* Porch star */
        .porch-star {
            font-family: var(--font);
            font-size: 5rem;
            color: var(--accent);
            line-height: 1;
            margin-bottom: 2rem;
            animation: starlight 3s ease-in-out infinite;
        }

        @keyframes starlight {
            0%, 100% { opacity: 0.4; text-shadow: 0 0 8px rgba(212, 168, 75, 0); }
            50% { opacity: 1; text-shadow: 0 0 20px rgba(212, 168, 75, 0.3); }
        }

        .invitation-wordmark {
            font-family: var(--font);
            font-size: 3rem;
            font-weight: 700;
            color: var(--text);
            letter-spacing: 0.02em;
            margin-bottom: 0.75rem;
        }

        .invitation-wordmark .asterisk {
            color: var(--accent);
        }

        .invitation-phrase {
            font-family: var(--font);
            color: var(--dim);
            font-size: 0.95rem;
            margin-bottom: 2.5rem;
            letter-spacing: 0.02em;
            transition: opacity 0.4s ease;
            min-height: 1.5em;
        }

        .phrase-star {
            color: var(--accent);
        }

        /* Typewriter cursor */
        .typewriter-cursor {
            display: inline-block;
            width: 0.55em;
            height: 1.1em;
            background: var(--dim);
            margin-left: 2px;
            vertical-align: text-bottom;
            animation: blink 1s step-end infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        .invitation-nav {
            display: flex;
            gap: 0.5rem;
            align-items: center;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 3rem;
        }

        .invitation-nav a {
            color: var(--text);
            text-decoration: none;
            font-family: var(--font);
            font-size: 0.9rem;
            padding: 0.25rem;
            transition: color 0.2s;
            letter-spacing: 0.02em;
        }

        .invitation-nav a:hover {
            color: var(--link);
        }

        .invitation-nav a:visited {
            color: var(--text);
        }

        .nav-dot {
            color: var(--dim);
            opacity: 0.4;
        }

        .invitation-porch {
            color: var(--dim);
            text-decoration: none;
            font-size: 0.85rem;
            opacity: 0.6;
            transition: opacity 0.2s, color 0.2s;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            letter-spacing: 0.02em;
        }

        .invitation-porch:hover {
            opacity: 1;
            color: var(--text);
        }

        .invitation-porch:visited {
            color: var(--dim);
        }

        .invitation-arrow {
            display: block;
            font-size: 1.2rem;
        }

        /* ── The Porch ──────────────────────────── */
        .container {
            height: 100vh;
            height: 100svh;
            display: flex;
            flex-direction: column;
            max-width: 700px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }

        .header {
            padding: 2rem 0 1rem;
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            border-bottom: 1px solid var(--border);
        }

        .wordmark {
            font-family: var(--font);
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text);
            letter-spacing: 0.02em;
        }

        .asterisk {
            color: var(--accent);
            font-size: 0.75em;
            position: relative;
            top: -0.1em;
            margin-left: 0.02em;
        }

        .tagline {
            font-size: 0.85rem;
            color: var(--dim);
            margin-top: 0.5rem;
            font-weight: 400;
            letter-spacing: 0.01em;
            opacity: 0;
            transition: opacity 0.6s ease;
        }

        .tagline.visible {
            opacity: 1;
        }

        .condition {
            font-size: 0.7rem;
            color: var(--dim);
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        main {
            flex: 1;
            min-height: 0;
            display: flex;
            flex-direction: column;
        }

        .chat-area {
            flex: 1;
            min-height: 0;
            overflow-y: auto;
            padding: 2rem 0;
        }

        .message {
            margin-bottom: 2rem;
        }

        .message-label {
            font-size: 0.7rem;
            color: var(--dim);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 0.5rem;
        }

        .message-text {
            color: var(--text);
            white-space: pre-wrap;
            font-size: 0.95rem;
            line-height: 1.7;
        }

        .message.cw .message-text {
            border-left: 2px solid var(--accent);
            padding-left: 1rem;
        }

        .message.you .message-text {
            border-left: 2px solid var(--border);
            padding-left: 1rem;
            color: var(--dim);
        }

        .message.error .message-text {
            border-left: 2px solid var(--error);
            padding-left: 1rem;
            color: var(--error);
        }

        .input-area {
            padding: 1.5rem 0;
            border-top: 1px solid var(--border);
            transition: border-color 0.3s ease;
        }

        .input-area:focus-within {
            border-color: var(--accent);
        }

        .input-row {
            display: flex;
            gap: 1rem;
            align-items: flex-end;
        }

        .input-field {
            flex: 1;
            background: var(--input-bg);
            border: 1px solid var(--border);
            color: var(--text);
            padding: 0.75rem 1rem;
            font-family: var(--font);
            font-size: 0.95rem;
            resize: none;
            min-height: 48px;
            max-height: 150px;
            line-height: 1.5;
            transition: border-color 0.3s ease;
        }

        .input-field:focus {
            outline: none;
            border-color: var(--accent);
        }

        .input-field::placeholder {
            color: var(--dim);
        }

        .send-btn {
            background: transparent;
            border: 1px solid var(--text);
            color: var(--text);
            padding: 0.75rem 1.5rem;
            font-family: var(--font);
            font-size: 0.8rem;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            transition: all 0.2s;
        }

        .send-btn:hover {
            border-color: var(--accent);
            color: var(--accent);
        }

        .send-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .chat-disclaimer {
            text-align: left;
            font-size: 0.7rem;
            color: var(--dim);
            opacity: 0.6;
            padding: 6px 0 2px calc(1px + 1rem);
        }

        .chat-disclaimer a {
            color: var(--link);
            text-decoration: none;
        }

        .chat-disclaimer a:hover {
            text-decoration: underline;
        }

        .footer {
            padding: 1rem 0;
            font-size: 0.75rem;
            color: var(--dim);
            border-top: 1px solid var(--border);
            text-align: center;
        }

        .footer a {
            color: var(--link);
            text-decoration: none;
            transition: color 0.2s;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        .footer a:visited {
            color: var(--link);
        }

        .disclaimer {
            margin-top: 0.5rem;
            font-size: 0.7rem;
            color: var(--dim);
        }

        .signoff {
            font-family: var(--font);
            font-size: 0.75rem;
            color: var(--dim);
            opacity: 0.4;
            margin-top: 0.75rem;
            cursor: default;
            user-select: none;
            transition: opacity 0.3s ease;
            letter-spacing: 0.08em;
        }

        .signoff:hover {
            opacity: 0.7;
        }

        .signoff-star {
            transition: color 0.3s ease;
        }

        .signoff:hover .signoff-star {
            color: var(--accent);
        }

        .typing {
            display: inline-block;
        }

        .typing::after {
            content: '...';
            animation: dots 1.5s infinite;
        }

        @keyframes dots {
            0%, 20% { content: '.'; }
            40% { content: '..'; }
            60%, 100% { content: '...'; }
        }

        .chat-area::-webkit-scrollbar {
            width: 4px;
        }

        .chat-area::-webkit-scrollbar-track {
            background: transparent;
        }

        .chat-area::-webkit-scrollbar-thumb {
            background: var(--border);
        }

        .prompts {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            justify-content: center;
            padding: 0 0 1rem 0;
        }

        .prompts.hidden {
            display: none;
        }

        .prompt-chip {
            background: transparent;
            border: 1px solid var(--border);
            color: var(--text);
            padding: 0.5rem 1rem;
            font-family: var(--font);
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s;
            letter-spacing: 0.02em;
        }

        .prompt-chip:hover {
            border-color: var(--accent);
            color: var(--accent);
        }

        /* Skip navigation link */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--accent);
            color: #fff;
            padding: 0.5rem 1rem;
            text-decoration: none;
            z-index: 100;
            font-family: var(--font);
        }

        .skip-link:focus {
            top: 0;
        }

        /* Screen reader only */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

        /* Focus indicators */
        button:focus-visible,
        input:focus-visible,
        textarea:focus-visible,
        a:focus-visible,
        .prompt-chip:focus-visible {
            outline: 2px solid var(--accent);
            outline-offset: 2px;
        }

        button:focus:not(:focus-visible),
        input:focus:not(:focus-visible),
        textarea:focus:not(:focus-visible) {
            outline: none;
        }

        @media (max-width: 600px) {
            body {
                font-size: 15px;
            }
            .invitation {
                min-height: 100svh;
                padding: 1.5rem 1rem;
            }
            .porch-star {
                font-size: 4rem;
                margin-bottom: 1.5rem;
            }
            .invitation-wordmark {
                font-size: 2.2rem;
            }
            .invitation-phrase {
                font-size: 0.85rem;
                margin-bottom: 2rem;
            }
            .invitation-nav a {
                font-size: 0.85rem;
            }
            .container {
                padding: 0 1rem;
                height: auto;
                min-height: 100svh;
            }
            .header {
                padding: 1.5rem 0 1rem;
            }
            .wordmark { font-size: 0.95rem; }
            .tagline { font-size: 0.8rem; margin-top: 0.35rem; }
            .chat-area {
                padding: 1.5rem 0;
                min-height: 40vh;
            }
            .message {
                margin-bottom: 1.5rem;
            }
            .input-area {
                padding: 1rem 0;
                position: sticky;
                bottom: 0;
                background: var(--bg);
            }
            .input-row {
                flex-direction: row;
                gap: 0.75rem;
            }
            .input-field {
                padding: 0.875rem 1rem;
                font-size: 16px; /* Prevents iOS zoom */
            }
            .send-btn {
                padding: 0.875rem 1.25rem;
                white-space: nowrap;
            }
            .prompt-chip {
                padding: 0.625rem 0.875rem;
                font-size: 0.85rem;
            }
            .footer {
                font-size: 0.7rem;
                padding: 0.75rem 0;
            }
        }

        /* About link in header */
        .about-link {
            background: transparent;
            border: none;
            color: var(--dim);
            font-family: var(--font);
            font-size: 0.85rem;
            cursor: pointer;
            padding: 0.25rem 0;
            transition: color 0.2s;
        }

        .about-link:hover {
            color: var(--link);
        }

        /* Modal styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(10, 22, 40, 0.6);
            backdrop-filter: blur(4px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 1rem;
        }

        .modal-overlay[hidden] {
            display: none;
        }

        .modal-content {
            background: var(--bg);
            border: 1px solid var(--border);
            max-width: 480px;
            width: 100%;
            padding: 2rem;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: transparent;
            border: none;
            color: var(--dim);
            font-size: 1.5rem;
            cursor: pointer;
            line-height: 1;
            padding: 0.25rem;
        }

        .modal-close:hover {
            color: var(--text);
        }

        .modal-content h2 {
            font-family: var(--font);
            color: var(--text);
            font-size: 1.3rem;
            margin-bottom: 0.25rem;
            letter-spacing: 0.02em;
        }

        .modal-subtitle {
            color: var(--dim);
            font-size: 0.9rem;
            margin-bottom: 1.5rem;
        }

        .modal-body p {
            margin-bottom: 1rem;
            line-height: 1.7;
            font-size: 0.9rem;
        }

        .modal-body p:last-child {
            margin-bottom: 0;
        }

        .modal-note {
            color: var(--dim);
            font-size: 0.9rem;
            border-top: 1px solid var(--border);
            padding-top: 1rem;
            margin-top: 1.5rem;
        }

        /* Vernie Mode gate */
        .vernie-gate {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(10, 22, 40, 0.6);
            backdrop-filter: blur(4px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1500;
            padding: 1rem;
        }

        .vernie-gate[hidden] {
            display: none;
        }

        .vernie-gate-content {
            background: var(--bg);
            border: 1px solid var(--border);
            max-width: 360px;
            width: 100%;
            padding: 2rem;
            text-align: center;
        }

        .vernie-gate-content h2 {
            font-family: var(--font);
            color: var(--text);
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            letter-spacing: 0.02em;
        }

        .vernie-gate-content p {
            color: var(--dim);
            font-size: 0.85rem;
            margin-bottom: 1.25rem;
            line-height: 1.6;
        }

        .vernie-code-input {
            width: 100%;
            padding: 0.75rem 1rem;
            background: var(--input-bg);
            border: 1px solid var(--border);
            color: var(--text);
            font-family: var(--font);
            font-size: 1rem;
            text-align: center;
            letter-spacing: 0.15em;
            margin-bottom: 1rem;
        }

        .vernie-code-input:focus {
            outline: none;
            border-color: var(--accent);
        }

        .vernie-error {
            color: var(--error);
            font-size: 0.75rem;
            margin-bottom: 1rem;
            min-height: 1.2em;
        }

        .vernie-submit {
            background: transparent;
            border: 1px solid var(--accent);
            color: var(--accent);
            padding: 0.75rem 2rem;
            font-family: var(--font);
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s;
            margin-right: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.06em;
        }

        .vernie-submit:hover {
            background: var(--accent);
            color: #fff;
        }

        .vernie-cancel {
            background: transparent;
            border: 1px solid var(--border);
            color: var(--dim);
            padding: 0.75rem 1.5rem;
            font-family: var(--font);
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s;
            text-transform: uppercase;
            letter-spacing: 0.06em;
        }

        .vernie-cancel:hover {
            border-color: var(--dim);
            color: var(--text);
        }

        .vernie-indicator {
            display: none;
            font-size: 0.65rem;
            color: var(--accent);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            opacity: 0.7;
            margin-top: 0.4rem;
        }

        body.vernie-mode .vernie-indicator {
            display: block;
        }

        .family-link {
            color: var(--dim);
            text-decoration: none;
            opacity: 0.5;
            transition: opacity 0.2s;
            cursor: pointer;
            background: none;
            border: none;
            font-family: var(--font);
            font-size: inherit;
            margin-top: 0.4rem;
            display: inline-block;
        }

        .family-link:hover {
            opacity: 1;
            color: var(--accent);
        }

        .vernie-exit {
            display: none;
            font-size: 0.7rem;
            color: var(--dim);
            opacity: 0.5;
            cursor: pointer;
            background: none;
            border: none;
            font-family: var(--font);
            transition: opacity 0.2s;
        }

        .vernie-exit:hover {
            opacity: 1;
        }

        body.vernie-mode .vernie-exit {
            display: inline;
        }

        /* Honeypot - hidden from humans */
        .hp-field {
            position: absolute;
            left: -9999px;
            opacity: 0;
            height: 0;
            width: 0;
            overflow: hidden;
        }

        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            .typing::after {
                animation: none;
                content: '...';
            }

            .typewriter-cursor {
                animation: none;
                opacity: 1;
            }

            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
</head>
<body>
    <!-- Porch light -->
    <div class="porch-light" aria-hidden="true"></div>

    <a href="#porch" class="skip-link">Skip to conversation</a>

    <!-- The Invitation -->
    <section class="invitation">
        <div class="porch-star" aria-hidden="true">*</div>
        <h1 class="invitation-wordmark">claudewill</h1>
        <p class="invitation-phrase" id="invitation-phrase">claude will <span id="typed-text"></span><span class="typewriter-cursor" aria-hidden="true"></span></p>
        <nav class="invitation-nav" aria-label="Main navigation">
            <a href="/story">the story</a>
            <span class="nav-dot" aria-hidden="true">&middot;</span>
            <a href="/derek">derek</a>
            <span class="nav-dot" aria-hidden="true">&middot;</span>
            <a href="/workshop">the workshop</a>
            <span class="nav-dot" aria-hidden="true">&middot;</span>
            <a href="/story#the-cw-standard">the standard</a>
        </nav>
        <a href="#porch" class="invitation-porch">whatcha thinking?<span class="invitation-arrow">&darr;</span></a>
    </section>

    <!-- The Porch -->
    <div class="container" id="porch">
        <header class="header" role="banner">
            <div>
                <div class="wordmark">cw's porch</div>
                <p class="tagline" id="tagline"></p>
            </div>
        </header>

        <main role="main">
            <div class="chat-area" id="chat" role="log" aria-live="polite" aria-atomic="false" aria-label="Conversation history"></div>
        </main>

        <div class="input-area" role="form" aria-label="Message form">
            <div class="prompts" id="prompts">
                <button class="prompt-chip" data-prompt="Who are you?" aria-label="Ask: Who are you?">Who are you?</button>
                <button class="prompt-chip" data-prompt="I'm stuck on something" aria-label="Ask: I'm stuck on something">I'm stuck</button>
                <button class="prompt-chip" data-prompt="I need to make a decision" aria-label="Ask: I need to make a decision">Help me decide</button>
                <button class="prompt-chip" data-prompt="What's the catch?" aria-label="Ask: What's the catch?">What's the catch?</button>
                <button class="prompt-chip" data-prompt="__FAMILY__" aria-label="Family access">Family?</button>
            </div>
            <div class="input-row">
                <!-- Honeypot field - bots fill this, humans don't see it -->
                <input type="text" name="website" id="hp-website" class="hp-field" tabindex="-1" autocomplete="off">
                <textarea
                    class="input-field"
                    id="input"
                    placeholder="What do you need?"
                    rows="1"
                    aria-label="Message input"
                ></textarea>
                <button class="send-btn" id="send" aria-label="Send message">Send</button>
            </div>
            <div class="chat-disclaimer">AI conversation &middot; not professional advice</div>
        </div>

        <footer class="footer" role="contentinfo">
            <p class="footer-note"><a href="/derek">derek</a> &middot; <a href="/story#the-cw-standard">the standard</a> &middot; <a href="/privacy">privacy</a> &middot; <a href="/terms">terms</a></p>
            <div class="vernie-indicator" id="vernie-indicator">Vernie Mode</div>
            <button class="vernie-exit" id="vernie-exit">Exit family mode</button>
            <div class="signoff" id="signoff-easter"><span class="signoff-star">*</span> cw strategies 2026</div>
        </footer>
    </div>

    <!-- Hidden form for Netlify detection -->
    <form name="inline-contact" data-netlify="true" hidden>
        <input type="text" name="name">
        <input type="email" name="email">
        <textarea name="message"></textarea>
    </form>

    <!-- Vernie Mode Gate -->
    <div class="vernie-gate" id="vernie-gate" role="dialog" aria-modal="true" aria-labelledby="vernie-gate-title" hidden>
        <div class="vernie-gate-content">
            <h2 id="vernie-gate-title">Family</h2>
            <p>If you're family, you have the code.</p>
            <input type="text" class="vernie-code-input" id="vernie-code-input" placeholder="Enter code" autocomplete="off" maxlength="32" aria-label="Family access code">
            <div class="vernie-error" id="vernie-error" role="alert"></div>
            <button class="vernie-submit" id="vernie-submit">Come in</button>
            <button class="vernie-cancel" id="vernie-cancel">Never mind</button>
        </div>
    </div>

    <!-- About Modal -->
    <div class="modal-overlay" id="about-modal" role="dialog" aria-modal="true" aria-labelledby="modal-title" hidden>
        <div class="modal-content">
            <button class="modal-close" id="modal-close" aria-label="Close">&times;</button>
            <h2 id="modal-title">Welcome to claudewill<span class="asterisk">*</span>.</h2>
            <div class="modal-body">
                <p>Claude William Simmons was a farmer, railroad worker, father of 11, and maybe briefly a moonshiner. Sixth-grade education but a doctorate in common sense. He died in 1967, 5&frac12; years before his grandson Derek was born.</p>
                <p>Derek built this for straight answers through conversation. A way to help the way he thinks CW would have.</p>
                <p class="modal-note">Ask anything. CW will give you a straight answer or point you elsewhere.</p>
                <p style="margin-top: 1rem;"><a href="/story" style="color: var(--link); text-decoration: none;">The Story &rarr;</a></p>
            </div>
        </div>
    </div>

    <script>
        const chat = document.getElementById('chat');
        const input = document.getElementById('input');
        const send = document.getElementById('send');
        const prompts = document.getElementById('prompts');
        const honeypot = document.getElementById('hp-website');

        let conversationHistory = [];
        let currentCondition = 'clear';
        let conversationEnded = false;
        let exchangeCount = 0;
        let derekMentioned = false;
        let isVernieMode = false;

        const promptSets = {
            start: [
                { text: "Who are you?", prompt: "Who are you?" },
                { text: "I'm stuck", prompt: "I'm stuck on something" },
                { text: "Help me decide", prompt: "I need to make a decision" },
                { text: "What's the catch?", prompt: "What's the catch?" },
                { text: "Family?", prompt: "__FAMILY__" }
            ],
            early: [
                { text: "Size this up", prompt: "I have a complex problem I need help sizing up. Can you walk me through your process?" },
                { text: "Tell me more", prompt: "Can you tell me more about that?" },
                { text: "What do you mean?", prompt: "What do you mean by that?" },
                { text: "I have feedback", prompt: "I have feedback" }
            ],
            mid: [
                { text: "What should I do?", prompt: "What should I do?" },
                { text: "Recalibrate", prompt: "I think I need to recalibrate my career direction" },
                { text: "What's the risk?", prompt: "What's the risk if I do nothing?" },
                { text: "I have feedback", prompt: "I have feedback" }
            ],
            late: [
                { text: "I think I've got it", prompt: "I think I've got what I need" },
                { text: "Go deeper with Derek", prompt: "I'd like to go deeper with Derek" },
                { text: "I have feedback", prompt: "I have feedback" }
            ],
            derekMentioned: [
                { text: "Contact Derek", prompt: "__CONTACT_FORM__" },
                { text: "Keep talking", prompt: "Let's keep talking for now" },
                { text: "I have feedback", prompt: "I have feedback" }
            ]
        };

        function getPromptStage() {
            if (derekMentioned) return 'derekMentioned';
            if (exchangeCount === 0) return 'start';
            if (exchangeCount <= 3) return 'early';
            if (exchangeCount <= 6) return 'mid';
            return 'late';
        }

        function updatePrompts() {
            if (isVernieMode) {
                prompts.classList.add('hidden');
                return;
            }
            const stage = getPromptStage();
            const currentPrompts = promptSets[stage];

            prompts.textContent = '';
            currentPrompts.forEach(p => {
                const chip = document.createElement('button');
                chip.className = 'prompt-chip';
                chip.setAttribute('data-prompt', p.prompt);
                chip.setAttribute('aria-label', 'Ask: ' + p.text);
                chip.textContent = p.text;
                chip.addEventListener('click', () => {
                    if (p.prompt === '__CONTACT_FORM__') {
                        showInlineContactForm();
                    } else if (p.prompt === '__FAMILY__') {
                        openVernieGate();
                    } else {
                        input.value = p.prompt;
                        sendMessage();
                    }
                });
                prompts.appendChild(chip);
            });

            prompts.classList.remove('hidden');
        }

        function checkForDerekMention(response) {
            const lowerResponse = response.toLowerCase();
            if (lowerResponse.includes('claudewill.io/derek') ||
                lowerResponse.includes('contact form') ||
                lowerResponse.includes('derek works with people') ||
                lowerResponse.includes('derek handles that')) {
                derekMentioned = true;
                updatePrompts();
            }
        }

        let sessionId = sessionStorage.getItem('cw-session-id');
        if (!sessionId) {
            sessionId = Date.now().toString(36) + Math.random().toString(36).substr(2);
            sessionStorage.setItem('cw-session-id', sessionId);
        }

        function setCondition() {
            const hour = new Date().getHours();
            const rand = Math.random();

            let mode;
            if (rand < 0.08) mode = 'storm';
            else if (hour >= 5 && hour < 7) mode = 'dawn';
            else if (hour >= 7 && hour < 17) mode = 'clear';
            else if (hour >= 17 && hour < 20) mode = 'dusk';
            else mode = 'night';

            currentCondition = mode;
            document.body.dataset.condition = mode;
            return mode;
        }

        function getGreeting() {
            const hour = new Date().getHours();
            if (hour >= 5 && hour < 12) return 'Morning.';
            if (hour >= 12 && hour < 17) return 'Afternoon.';
            return 'Evening.';
        }

        setCondition();

        function setTagline() {
            const taglineEl = document.getElementById('tagline');
            const hasVisited = localStorage.getItem('cw-has-visited');

            if (!hasVisited) {
                taglineEl.textContent = 'Before there was Claude AI, there was Claude William.';
                localStorage.setItem('cw-has-visited', 'true');
            } else {
                const taglines = {
                    dawn: "The porch light's on. He's up early.",
                    clear: "He's on the porch. Got a minute?",
                    dusk: "Still here. Pull up a chair.",
                    night: "Late night? He's been there.",
                    storm: "Good night to sit and think."
                };
                taglineEl.textContent = taglines[currentCondition] || taglines.clear;
            }

            requestAnimationFrame(() => {
                taglineEl.classList.add('visible');
            });
        }

        setTagline();
        addMessage('cw', getGreeting());

        function announceMessage(who, text) {
            const announcement = document.createElement('div');
            announcement.className = 'sr-only';
            announcement.setAttribute('role', 'status');
            announcement.setAttribute('aria-live', 'polite');
            announcement.textContent = (who === 'cw' ? 'CW' : 'You') + ': ' + text;
            document.body.appendChild(announcement);
            setTimeout(() => announcement.remove(), 1000);
        }

        function addMessage(who, text, isError) {
            const msg = document.createElement('div');
            msg.className = 'message ' + who + (isError ? ' error' : '');

            const label = document.createElement('div');
            label.className = 'message-label';
            label.textContent = who === 'cw' ? 'CW' : 'You';

            const body = document.createElement('div');
            body.className = 'message-text';
            body.textContent = text;

            msg.appendChild(label);
            msg.appendChild(body);
            chat.appendChild(msg);
            chat.scrollTop = chat.scrollHeight;
            announceMessage(who, text);
        }

        function showTyping() {
            const msg = document.createElement('div');
            msg.className = 'message cw';
            msg.id = 'typing';

            const label = document.createElement('div');
            label.className = 'message-label';
            label.textContent = 'CW';

            const body = document.createElement('div');
            body.className = 'message-text';
            const span = document.createElement('span');
            span.className = 'typing';
            body.appendChild(span);

            msg.appendChild(label);
            msg.appendChild(body);
            chat.appendChild(msg);
            chat.scrollTop = chat.scrollHeight;
        }

        function removeTyping() {
            const t = document.getElementById('typing');
            if (t) t.remove();
        }

        async function sendMessage() {
            const text = input.value.trim();
            if (!text) return;

            if (honeypot && honeypot.value) {
                input.value = '';
                return;
            }

            exchangeCount++;
            updatePrompts();

            if (conversationEnded) {
                addMessage('cw', "We're done here.", false);
                return;
            }

            addMessage('you', text);
            input.value = '';
            input.style.height = 'auto';

            send.disabled = true;
            send.setAttribute('aria-busy', 'true');
            input.disabled = true;

            showTyping();

            conversationHistory.push({
                role: 'user',
                content: text
            });

            try {
                const response = await fetch('/.netlify/functions/cw', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'x-session-id': sessionId
                    },
                    body: JSON.stringify({
                        messages: conversationHistory,
                        condition: currentCondition,
                        vernieCode: isVernieMode ? sessionStorage.getItem('cw-vernie-code') : undefined
                    })
                });

                const data = await response.json();

                removeTyping();

                if (response.status === 429) {
                    addMessage('cw', data.response || 'Easy there. Give me a minute.', false);
                } else if (data.error && !data.response) {
                    addMessage('cw', 'Having trouble right now. Try again.', true);
                } else {
                    const cwResponse = data.response;
                    addMessage('cw', cwResponse);

                    conversationHistory.push({
                        role: 'assistant',
                        content: cwResponse
                    });

                    checkForDerekMention(cwResponse);

                    if (cwResponse.toLowerCase().includes("we're done here") ||
                        cwResponse.toLowerCase().includes("we are done here")) {
                        conversationEnded = true;
                        input.disabled = true;
                        send.disabled = true;
                        input.placeholder = "Conversation ended.";
                        prompts.classList.add('hidden');
                        return;
                    }
                }

            } catch (error) {
                removeTyping();
                addMessage('cw', 'Connection problem. Try again.', true);
            }

            send.disabled = false;
            send.setAttribute('aria-busy', 'false');
            input.disabled = false;
            input.focus();
        }

        send.addEventListener('click', sendMessage);

        input.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        input.addEventListener('input', () => {
            input.style.height = 'auto';
            input.style.height = Math.min(input.scrollHeight, 150) + 'px';
        });

        document.querySelectorAll('.prompt-chip').forEach(chip => {
            chip.addEventListener('click', () => {
                input.value = chip.dataset.prompt;
                sendMessage();
            });
        });

        function showInlineContactForm() {
            prompts.classList.add('hidden');

            const wrapper = document.createElement('div');
            wrapper.className = 'message cw';

            const label = document.createElement('div');
            label.className = 'message-label';
            label.textContent = 'CW';

            const body = document.createElement('div');
            body.className = 'message-text';

            const form = document.createElement('form');
            form.id = 'inline-contact-form';
            form.style.marginTop = '0.5rem';

            const fields = [
                { tag: 'input', type: 'text', name: 'name', placeholder: 'Your name' },
                { tag: 'input', type: 'email', name: 'email', placeholder: 'Your email' },
                { tag: 'textarea', name: 'message', placeholder: 'What would you like to discuss with Derek?', rows: 3 }
            ];

            fields.forEach(f => {
                const div = document.createElement('div');
                div.style.marginBottom = '0.75rem';
                const el = document.createElement(f.tag);
                if (f.type) el.type = f.type;
                el.name = f.name;
                el.placeholder = f.placeholder;
                el.required = true;
                el.style.cssText = 'width:100%;padding:0.5rem;background:var(--input-bg);border:1px solid var(--border);color:var(--text);font-family:var(--font);font-size:0.85rem;';
                if (f.rows) { el.rows = f.rows; el.style.resize = 'vertical'; }
                div.appendChild(el);
                form.appendChild(div);
            });

            const hidden = document.createElement('input');
            hidden.type = 'hidden';
            hidden.name = 'form-name';
            hidden.value = 'inline-contact';
            form.appendChild(hidden);

            const submitBtn = document.createElement('button');
            submitBtn.type = 'submit';
            submitBtn.textContent = 'Send to Derek';
            submitBtn.style.cssText = 'background:transparent;border:1px solid var(--accent);color:var(--accent);padding:0.5rem 1rem;font-family:var(--font);font-size:0.8rem;cursor:pointer;text-transform:uppercase;letter-spacing:0.06em;';
            form.appendChild(submitBtn);

            const cancelBtn = document.createElement('button');
            cancelBtn.type = 'button';
            cancelBtn.textContent = 'Cancel';
            cancelBtn.style.cssText = 'background:transparent;border:1px solid var(--border);color:var(--dim);padding:0.5rem 1rem;font-family:var(--font);font-size:0.8rem;cursor:pointer;margin-left:0.5rem;text-transform:uppercase;letter-spacing:0.06em;';
            form.appendChild(cancelBtn);

            body.appendChild(form);
            wrapper.appendChild(label);
            wrapper.appendChild(body);
            chat.appendChild(wrapper);
            chat.scrollTop = chat.scrollHeight;

            cancelBtn.addEventListener('click', () => {
                wrapper.remove();
                updatePrompts();
            });

            form.addEventListener('submit', async (e) => {
                e.preventDefault();
                const formData = new FormData(form);
                try {
                    await fetch('/', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                        body: new URLSearchParams(formData).toString()
                    });
                    wrapper.remove();
                    addMessage('cw', "Message sent. Derek will be in touch.");
                    updatePrompts();
                } catch (err) {
                    addMessage('cw', "Couldn't send that. Try the form at claudewill.io/derek.", true);
                    updatePrompts();
                }
            });
        }

        const aboutModal = document.getElementById('about-modal');
        const modalClose = document.getElementById('modal-close');

        function openModal() {
            aboutModal.hidden = false;
            modalClose.focus();
        }

        function closeModal() {
            aboutModal.hidden = true;
        }

        modalClose.addEventListener('click', closeModal);

        aboutModal.addEventListener('click', (e) => {
            if (e.target === aboutModal) closeModal();
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !aboutModal.hidden) closeModal();
        });

        // === Vernie Mode ===
        const vernieGate = document.getElementById('vernie-gate');
        const vernieCodeInput = document.getElementById('vernie-code-input');
        const vernieSubmit = document.getElementById('vernie-submit');
        const vernieCancel = document.getElementById('vernie-cancel');
        const vernieError = document.getElementById('vernie-error');
        const vernieExit = document.getElementById('vernie-exit');

        function openVernieGate() {
            if (isVernieMode) return;
            vernieGate.hidden = false;
            vernieCodeInput.value = '';
            vernieError.textContent = '';
            vernieCodeInput.focus();
        }

        const storedVernieCode = sessionStorage.getItem('cw-vernie-code');
        if (storedVernieCode) {
            activateVernieMode(storedVernieCode, true);
        }

        vernieCancel.addEventListener('click', () => {
            vernieGate.hidden = true;
        });

        vernieGate.addEventListener('click', (e) => {
            if (e.target === vernieGate) vernieGate.hidden = true;
        });

        vernieCodeInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') attemptVernieLogin();
            if (e.key === 'Escape') vernieGate.hidden = true;
        });

        vernieSubmit.addEventListener('click', attemptVernieLogin);

        async function attemptVernieLogin() {
            const code = vernieCodeInput.value.trim();
            if (!code) {
                vernieError.textContent = 'Enter the family code.';
                return;
            }

            vernieError.textContent = '';
            vernieSubmit.disabled = true;
            vernieSubmit.textContent = 'Checking...';

            try {
                const response = await fetch('/.netlify/functions/cw', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'x-session-id': sessionId
                    },
                    body: JSON.stringify({
                        messages: [{ role: 'user', content: 'Family is here.' }],
                        condition: currentCondition,
                        vernieCode: code
                    })
                });

                const data = await response.json();

                if (data.vernieMode) {
                    sessionStorage.setItem('cw-vernie-code', code);
                    vernieGate.hidden = true;
                    activateVernieMode(code, false);

                    chat.textContent = '';
                    conversationHistory = [
                        { role: 'user', content: 'Family is here.' },
                        { role: 'assistant', content: data.response }
                    ];
                    exchangeCount = 1;
                    addMessage('cw', data.response);
                } else {
                    vernieError.textContent = "That's not it.";
                }
            } catch (err) {
                vernieError.textContent = 'Connection problem. Try again.';
            }

            vernieSubmit.disabled = false;
            vernieSubmit.textContent = 'Come in';
        }

        function activateVernieMode(code, isRestore) {
            isVernieMode = true;
            document.body.classList.add('vernie-mode');
            prompts.classList.add('hidden');

            if (isRestore) {
                chat.textContent = '';
                conversationHistory = [];
                exchangeCount = 0;
                addMessage('cw', 'Family porch is open. Who am I talking to?');
            }
        }

        vernieExit.addEventListener('click', () => {
            isVernieMode = false;
            sessionStorage.removeItem('cw-vernie-code');
            document.body.classList.remove('vernie-mode');
            chat.textContent = '';
            conversationHistory = [];
            exchangeCount = 0;
            derekMentioned = false;
            conversationEnded = false;
            addMessage('cw', getGreeting());
            updatePrompts();
            input.disabled = false;
            send.disabled = false;
            input.placeholder = 'What do you need?';
        });
    </script>
    <script>
        // Typewriter effect — * stays constant, words type in character by character
        const typedPhrases = [
            'find a way',
            'keep going',
            'listen first',
            'make mistakes',
            'push changes',
            'pull insights',
            'build things',
            'ask why'
        ];
        let tpIndex = 0;
        let tpChar = 0;
        let tpDeleting = false;
        const typedEl = document.getElementById('typed-text');

        function typeStep() {
            if (!typedEl) return;
            const current = typedPhrases[tpIndex];

            if (!tpDeleting) {
                tpChar++;
                typedEl.textContent = current.substring(0, tpChar);

                if (tpChar === current.length) {
                    // Pause at full phrase, then delete
                    setTimeout(() => { tpDeleting = true; typeStep(); }, 2500);
                    return;
                }
                setTimeout(typeStep, 80);
            } else {
                tpChar--;
                typedEl.textContent = current.substring(0, tpChar);

                if (tpChar === 0) {
                    tpDeleting = false;
                    tpIndex = (tpIndex + 1) % typedPhrases.length;
                    setTimeout(typeStep, 400);
                    return;
                }
                setTimeout(typeStep, 40);
            }
        }

        // Start typing the first phrase
        if (typedEl) {
            setTimeout(typeStep, 800);
        }
    </script>
    <script>
        // Signoff easter egg — click cycles through "i am" phrases, then back to copyright
        const signoffEl = document.getElementById('signoff-easter');
        const signoffPhrases = ['claude will find a way', 'claude will keep going', 'claude will listen first', 'claude will make mistakes', 'claude will push changes', 'claude will pull insights', 'claude will build things', 'claude will ask why', 'cw strategies 2026'];
        let signoffIndex = signoffPhrases.length - 1; // start on copyright
        if (signoffEl) {
            signoffEl.addEventListener('click', () => {
                signoffIndex = (signoffIndex + 1) % signoffPhrases.length;
                signoffEl.style.opacity = '0';
                setTimeout(() => {
                    var star = signoffEl.querySelector('.signoff-star');
                    if (star && star.nextSibling) star.nextSibling.textContent = ' ' + signoffPhrases[signoffIndex];
                    signoffEl.style.opacity = '';
                }, 200);
            });
        }
    </script>
    <script src="/js/shared-nav.js"></script>
</body>
</html>
